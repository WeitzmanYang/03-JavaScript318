## 函数

### 为什么要学函数？

函数：一段代码的封装

定义函数：function fn(){} ,var fn = function (){}

调用函数：函数名();

参数：形参，实参

尝试实现：

 1. 在若干个页面中要求 1到100之间的数字之和

### 什么是函数？

##### 目的：

​	1、了解函数作用【代码封装，重复使用】

 	2、会定义函数并且调用【function 函数名 () {}，调用：函数名();】

##### 函数的概念

函数： 可以封装一段特定功能代码，然后通过函数名调用，实现对该段代码重复使用
函数：一段（功能）代码的封装

函数重点：
  	  1. 封装
            2. 重复

##### 函数的作用

实现代码的重复使用，提高代码使用效率
✔ 对分散代码整合（封装）
✔ 重复使用

### 创建函数

创建：function 函数名 () {}

调用：函数名();

#### 方式一： 函数声明及执行方式（推荐）

```javascript
☞ 函数的声明：

function  自定义函数名() {
     //一堆代码
    具体的功能代码
    一堆代码==>函数体
     //函数体
}

注意：
	 1. 由于函数是用来实现某种特定功能代码，所以一般我们设置函数名的时候，以动词开始。
   2. 函数不能自己执行代码，需要通过函数名调用实现代码的执行

☞ 调用函数（执行函数）

函数名();  //函数的调用
```

#### 方式二：函数表达式（字面量）及执行方式

```javascript
var  fn = function () {

}   
fn();
```

### 课堂一练

1. 将比较数字大小封装到一个函数中

### 函数的参数

 思考： 利用函数如何计算任意两个数字之和？

#### 形参

```javascript
在 函数创建时，在小扩号中定义的变量

语法：

形参：占位符，本身没有真实数据
function 函数名(形参,形参,形参...) {//形参，就是一个占位符，命名规则和规范和变量一样
	//函数体
}
注意：
	  1 函数也可以做为参数进行传递
```

#### 实参

```javascript
实参，在函数调用时，在小扩号中所传入的实际的数据。

语法：
实参：真实数据
函数名(数据,数据,数据...);   //实参，就是实际的数据
```

#### 函数：一段代码的封装

​	定义函数：function 函数名 (形式参数，形式参数......) {函数体}

​	调用函数：函数名(实际参数，实际参数......);

#### 课堂一练

☞ 求圆的面积   PI * r * r   (Math.PI)

☞ 求 n 到 m 之间的数字之和

☞ 求3个数中的最大值  

☞ 判断一个数是奇数还是偶数 

#### 思考题：

1、左手一个5升水杯，右手一个6升水杯，无限水，问：怎么弄出来3升三

```
（1）先把六升的水杯灌满，再把六升水杯的水倒满五升的水杯，然后再把五升水杯的水全部倒掉，再把六升水杯剩下的一升水倒进五升的水杯；

（2）再把六升的水杯灌满，再把六升水杯的水倒满五升的水杯，然后再把五升水杯的水全部倒掉，再把六升水杯剩下的两升水倒进五升的水杯；

（3）最后，再把六升的水杯灌满，再把六升水杯的水倒满五升的水杯；

这个时候大功告成！六升水杯就剩下三升的水啦！
```

2、一个羊村有50人家，每家一只羊，现在发现有的羊有病，需要杀掉

条件：

​	每家人只能看别人家的羊有木有病，不能看他自己家的羊

​	每家人只能杀自己家的羊，不能去杀别人家的羊

​	第一天...

​	第二天...

​	第三天：砰砰砰几声枪响，问：杀了几只羊(几只羊有病)

### 函数的返回值return

 思考：如何在函数外面获取到上面代码计算出的任意两个数之和？

 注意：函数内部的值不可以直接拿到函数外面用

返回值：函数执行完后，可以把执行的结果 通过 return 语法 返回给 调用者

目的：把一个值返回到函数外面;

```javascript
function add(num1，num2){
		//函数体
		return num1 + num2; // 注意：return 后的代码不执行
}
var resNum = add(21,6); // 调用函数，传入 两个实参，并通过 resNum 接收函数返回值
alert(resNum);// 27

注意：【很重要！！！！！】
    1. 如果函数没有显示的使用 return语句 ，那么函数有默认的返回值：undefined
    2. 如果函数中写了return语句，后面没有写任何其他内容，那么函数的返回值依然是 undefined
    3. 一个函数只能有一个返回值
    4. return 代码执行完成后，后面的代码不再执行
    5. 函数也可以作为返回值（理解）
```

#### 课堂一练

1. 获取数组中最大值，并返回
2. 将一个数组中所有偶数添加到一个新数组中返回，并计算新数组总和。

### 课后练习

1. 写一个函数，实现对数字数组的排序。
2. 写一个函数，用户输入任意两个不同数字,返回最后的最大值
3. 写一个函数，判断是否是闰年【能被4整除且不能被100整除，或者能被400整除】

## 函数其他部分

### arguments的使用

☞ 思考： 
  	 1. 如果一个函数的参数个数不确定该如何获取？
        	 2. 演示console.log()中不同个数参数的效果

#### arguments对象

☞ 通过 arguments获取到函数参数的个数 【不确定函数到底有多少个参数】

☞ 总结：
  	 1. 如果函数参数不确定，可以定义函数的时候不写参数，通过arguments获取
        	 2. 如果函数的参数确定，那么推荐定义函数的时候写参数

### arguments案例

其实是个对象，理解为数组

 1. 求任意个数中的最大值

 2. 求任意个数的和

 3. 求n 个数的最大值  

### 匿名函数和自调用函数

☞ 匿名函数： 没有函数名的函数
例如：

```javascript
var  fn = function () {
    
}
```

☞ 总结：
   	  1. 匿名函数不能单独使用
	  2. 可以将匿名函数赋值给一个变量
	  3. 可以让匿名函数自己调用自己

☞ 自调用函数： 函数封装好，立即执行。

☞ 总结：

       	1. 自调用函数可以是命名函数也可以是匿名函数
    	2. ( function () {} )(); 

☞ 函数属于一种数据类型  

☞ 函数可以作为参数

☞ 函数可以为返回值

### 函数作用域及局部变量

#### 作用域

☞ 思考： 在函数内部定义的变量，在函数外部能否访问该变量

 作用域： 变量或者函数可以起作用的区域

#####  ◆ 全局作用域（全局变量）

1. 在script标签中或者js文件中定义的变量，在任何地方都可以访问
2. 在函数内部声明变量不使用var关键字 （不建议使用）

##### ◆ 局部作用域（局部变量）

 1. 在函数内部定义的变量
 2. 局部变量只能在定义变量的函数中使用


#####  ◆ 块级作用域 （目前所学版本没有，新版本语义中有块级作用域）

​       {
​          块级作用域
​       }  

    	   1. 本质上块级作用域中的变量在外部不能访问
    	   2. 但是在js中可以访问块级作用域的变量（证明js没有块级作用域）

#### 全局作用域（全局变量）

```javascript
声明在所有函数外部的变量，可以所有地方使用

案例：
	说出下列代码的运行结果？
	
	var age = 18;  
  console.log(age); 

  function fn(){
     console.log(age)
  }

  fn();
```

#### 局部作用域（局部变量）

声明在某个函数内部的变量或函数的形参，只能在函数内部使用

案例：
     说出下列代码的运行结果？

```javascript
function fn(a){
   a = 100;
   var b = 200;  
}
	  
fn();
console.log(a); 
console.log(b);
```

### 作用域链

![06-1](assets/06-1.png)

作用域链：
	当访问一个变量时，会先从本作用域中去找这个变量，若找不到则向上一级作用域中去找，依次类推，就形成了一个作用域链。

案例代码分析：

```javascript
 		var a = 1;
    function fn1(){
      var a = 2;
      function fn2(){
          console.log(a);   //a的值 
      }
      fn2();
    }
    fn1();
```

### 作用域案例分析

###### 分析代码执行结果

```javascript
function  f1 () {
       num = 123;
    function f2 () {
       num = 789;
       console.log( num );
    }
    f2 ();
} 
var  num = 456;

f1();
//789
```

### 预解析

```javascript
☞ 思考1
	var num = 5; 
	console.log( num );

☞ 思考2
	console.log( num );
  var  num = 5;

☞ 思考 3
  
	function f1 () {

	}

	f1();


☞ 思考4 

  f1();

  function f1 () {

  }

预解析：
	1. js 代码执行先执行预解析
    
  2.  先进行变量提升： 把变量声明提升到当前作用域的最上面，不包括变量的赋值
    
  3. 函数提升： 把函数声明提升到当前作用域的最上面，不包括函数的调用
    
  【预解析：变量和函数】
  【带有var的变量，把这个变量的定义语法，提到当前作用域最前面（注意：只定义不赋值）】
	【带有名字的函数，把这个函数的定义语法，提升到当前作用域最前面（注意：只定义不调用）】  
    
预解析案例分析：
1. 
var  a  = 25;
function abc () {
    alert(a);
    var a = 10;
}

abc();
// undefined

2. 
console.log(a)  // a() =  function
function a () {
    console.log("aa");
}

var a = 1;
console.log(a); //1;


注意：如果函数名和变量名一样，函数优先
     
     
3.
var sum = 10;
fun ();
function fun () {
    console.log( num );
    var num = 20;
}

4.
var  a  = 18;
f1();
function f1 () {
    var b = 9;
    console.log(a);
    console.log(b);
    var a = 123;
}

5.
f1();
console.log(c);
console.log(b);
console.log(a);
function f1 () {
    var a = b = c = 9;//【var a=9;b=9;c=9】
    console.log(a);
    console.log(b);
    console.log(c);
}
```

### 代码规范

 1, 命名规范
	 变量，函数的命名必须有含义
     ◆ 变量 的名称一般用名词
     ◆ 函数 的名称一般用动词

  2，变量规范
  	 ◆ 操作符 前后 加 空格
    

```javascript
 var b = 2;
```

  3， 空格规范
  	

```javascript
if () {
      
}    
for () {

}    
var ary = [1, 2, 3, 4];
function fn () {
  
}
```

#### 函数练习：

函数写出几几乘法表

## 对象

思考： 如何通过js函数将人的信息输出？

一个具体的事务【类中的具体的某个实例】【属性和方法的集合体】

### 什么是对象？

##### ☞ 现实世界： 万事万物皆对象。

对象： 类中的具体的某个实例【属性和方法的集合体】
		     必须是一个具体的事物。 （手机，汽车不是对象，属于一类对象）
对象是由 特征（名词）【属性】 和 行为（动词）【方法】

​	属性：对象有的东西，称为属性
​	方法：对象做什么事情，称为方法

##### ☞ 程序中的对象： 对现实对象的抽象

##### ☞ 总结：

###### 程序中的对象：

✔ 对象必须有对应的属性【描述对象的特点，在程序中一般使用名词描述】

✔ 对象必须有行为动作方法 【方法用来描述具体对象的行为动作，一般方法使用动词】

对象.属性名【arr.length】
对象.方法名();【document.write('123');】

属性：访问，【对象.属性名】【对象['属性名']】
方法：执行，【对象.方法名()】

### 对象字面量创建对象

通过字面量方式创建对象
	函数单独使用==>函数
	函数放到对象==>方法
	 var  变量名  =  {  key : value , key: value,  key: functon () {}  };

备注：

   1. 创建对象，必须要确定具体的事物

                		2. 创建对象，必须要确定对象有哪些属性【特征】或者方法【动作，行为】
	
            	        		3. 如果一次想要输出多个对象，那么可以将每一个对象放到一个数组中。

☞ 访问对象属性    （对象.属性   |  对象['属性名']）【对象.属性名，对象['属性名']】
☞ 访问对象方法    （对象.方法名()）

注意：如果通过  对象['属性名']访问对象的属性时候，必须保证使用字符串格式


☞ 函数：独立存在的函数

☞ 方法： 属于对象的函数（匿名函数）

### 课堂练习

创建一个英雄对象【姓名，年龄，性别，武器，逃跑技能，攻击别人】

## 字面量创建对象：

```javascript
var o = {
    name: 'zs',
    age: 18,
    sex: true,
    sayHi: function () {
    		console.log(this.name);
    }
}; 
```

## 通过Object创建对象

构造函数 ，是一种特殊的函数(方法)，与new一起使用，用于初始化(创建)对象

```javascript
var  变量  =  new Object();
```

     1. Object 是一个构造函数
     2. 通过new调用构造函数


☞ 添加属性：对象变量.属性名 = 值;

☞ 添加方法：对象变量.方法名 =  function () {}

### 工厂方式创建对象

  1. 思考如何创建多个游戏对象？

  2. 例如

```javascript
function  create ( name, age, height ) {
var  Ob = new Object()
	  Ob.name = name;
	  Ob.age = age;
	  Ob.height = height;
	  Ob.eat = function () {}

return Ob;
}
```

### 自定义构造函数创建对象

```javascript
使用```帕斯卡```命名法 （每个单词首字母大写）

例如：
function  CreateHero ( name, age, height ) {
		this.name = name;
		this.age = age;
		this.height = height;
}

☞ 课堂案例：
使用自定义构造函数方式创建3个对象，并添加到数组中 【对象基本的属性有： name， age, gender】
```

### new 关键字执行过程

1. 在内存中创建一个空对象
2. this指向创建的对象
3. 执行函数
4. 返回当前对象

注意：在构造函数中，默认的返回值就是当前创建的对象

字面量：{}

构造函数：new Object();

工厂模式：function creatObj () {}

自定义构造函数：function CreateObj () {}

## instanceof关键字介绍

对象名 instanceof  构造函数名
判断对象是哪个构造函数创建的

### 遍历对象

☞ 通过   for   in  遍历 对象的成员for( key  in 对象 ){ 对象[key] }

☞ 遍历对象中的属性

☞ 遍历对象中的值

#### 对象案例

通过构造函数创建3个对象，并将3个对象放到数组中，最后再将数组中每一个对象的信息输出。

##### 备注：

1. 对象的基本属性有  name ， gender ， age
2. 对象的信息需要从用户输入中获取

## 对象总结

```javascript
 1. 程序中的对象： 类中的具体的某个实例
 2. 对象的基本的组成：  属性【描述对象特征特点】  |  方法 【描述对象行为动作功能】
 3. 创建对象方式：
 		✔ 字面量方式
        var  obj = {
            key ： 值,
            key ： function () {}
        }
     ✔ 通过构造函数
       	var  obj = new Object();	
			 	obj.自定义属性名 = 值;
       	obj.自定义方法名 = function () {}
             
     ✔ 工厂模式创建对象（本质就是对第二种方式的封装，创建多个对象）
        function people (name) {
            var obj = new Object();
            	obj.自定义属性名 = name;
            return obj
        }
	  		var zs = people('zs');

			✔ 自定义构造函数创建对象（确定对象的类型）
        function People (name) {
             this.自定义属性名 = name;
        }
				var zs  = new People('zs');
        
 4. 对象的基本操作
 		✔ 获取对象的属性或方法
      1.  对象.自定义属性名  ||  对象['属性名']
			2. 对象.自定义方法名()
 		
 5. 判断对象的具体类型
  	  对象名称  instanceOf  构造函数
      
 6. 对象的遍历：for ( key in 对象 ) { 对象[key] }
```

## 